"use strict";(function(window){function Workers(){this.Worker=null;this.onsuccess=null}Workers.add("on",function(event,callback){var self=this;return event&&({message:function(){self.onsuccess=callback}}[event]||function(){})()});Workers.add("set",function(url){var self=this;return new Promise(function(resolve,reject){self.Worker=new Worker(setting.system_path+url+".min.js");self.Worker.addEventListener("message",function(e){_.callbackAudit(self.onsuccess,e)},false);resolve(self)})});Workers.add("get",function(){return this.Worker});Workers.add("send",function(message){this.Worker.postMessage(!!message?message:"");return this});Workers.add("kill",function(){if(_.isSet(this.Worker)){this.Worker.terminate();this.Worker=null}return this});window.Workers=Workers})(window);