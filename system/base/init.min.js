"use strict";var nativeFunction=Function.prototype,regexConstructor=/(([^function])([a-zA-z])+(?=\())/g,WARNING_SYRUP={ERROR:{NOPARAM:"Param needed",NOOBJECT:"An object param is necessary.",NOARRAY:"An array necessary.",NOFUNCTION:"An function necessary.",NODATE:"Invalid Date",NOSTRING:"String is required",NODOM:" not exist in the DOM document",NOCALLBACK:"Callback error on execution time.",NOPROTOCOL:"No protocol specified in the configuration.",NOURL:"URL is required for the request.",NOHTML:"Html string is required",NOPOPUP:"There are no popup created.",NOPACK:"Error pack form",NOOBJECTREPLACEREGEXP:"A object is needed to replace a regexp ex: {match:replace}"}};nativeFunction.blend=function(child){var name=child.prototype.constructor.name||child.toString().match(regexConstructor)[0].trim();this.prototype[name]=child;_.__proto__[name]=new child};nativeFunction.drop=function(child){var name=child.prototype.constructor.name||child.toString().match(regexConstructor)[0].trim();if(_[name]){_[name]=null;return true}return false};nativeFunction.add=function(name,fn){name=name.trim();this.prototype[name]=fn};function Syrup(){this.recursiveStr=false;this.scriptCalls={};this.waitingCalls={}}function _$_(){this.collection=null;this.exist=null;this.state=null}_$_.add("$",function(dom){var _tmp,_self=new _$_;if(_.isFunction(dom)){_$(document).ready(dom);return}if(_.isHtml(dom)){_tmp=document.createElement("div");_tmp.innerHTML=dom;_self.collection=_tmp.children.length>1?_tmp.children:_tmp.firstChild}else{_self.collection=!_.isObject(dom)&&_.isString(dom)?dom.indexOf("+")>-1?document.querySelectorAll(_.replace(dom,"+","")):document.querySelector(dom):dom}_self.exist=_.isSet(_self.collection);_self.name=dom;return _self});_$_.add("noConflict",function(){return _$});_$_.add("fn",function(name,fn){return _$.__proto__[name]=fn});_$_.add("ready",function(callback){var _self=this;if(_.isGlobal(_self.collection)){_self.collection.addEventListener("DOMContentLoaded",callback)}});_$_.add("load",function(callback){var _self=this;if(_.isGlobal(_self.collection)){_self.collection.onload=callback}});_$_.add("addListener",function(event,delegate,callback){if(_.isFunction(delegate)){callback=delegate}var _self=this,_event=function(e){e=e||window.event;var _target=event.srcElement||e.target;if(_.isSet(delegate)&&!_.isFunction(delegate)){if(_.isSet(_target.className.baseVal)){if(_target.className.baseval===delegate){_.callbackAudit(callback,e)}}else{_$(_target).filter(delegate,function(){_.callbackAudit(callback,e)})}}else{_.callbackAudit(callback,e)}};_self.each(function(elem){if(elem.addEventListener){elem.addEventListener(event,_event,true)}else{if(elem.attachEvent){elem.attachEvent("on"+event,_event)}else{elem["on"+event]=_event}}});return this});_$_.add("removeListener",function(){});_$_.add("filter",function(filter,callback,e_handler){this.each(function(elem){var match=elem.matchesSelector||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.oMatchesSelector||elem.msMatchesSelector;if(match.call(elem,filter)){_.callbackAudit(callback,_$(elem))}else{if(_.isFunction(e_handler))_.callbackAudit(e_handler,elem)}});return this});_$_.add("empty",function(){this.each(function(v){v.innerHTML=""})});_$_.add("clone",function(childs){childs=_.isSet(childs);var _clones=[];this.each(function(v){_clones.push(_$(v.cloneNode(childs)))});return _.specArray(_clones)});_$_.add("data",function(name,value){var _self=this,_data_set,_values=[];_self.each(function(dom,i){if(!_.isSet(dom.dataset)){_data_set="data-"+name;if(_.isSet(value)){var _set={};_set[_data_set]=value;_self.attr(_set)}else{var _attr=_self.attr(_data_set);_values=_.isArray(_attr)?_attr:[_attr]}}else{_data_set=dom.dataset;if(_.isSet(value)||_.isNumber(value)){_data_set[name]=_.isArray(value)?value[i]:value}else{if(_.isSet(_data_set[name])){_values.push(_data_set[name])}}}});return _.specArray(_values)});_$_.add("prop",function(_prop){var _props=[];this.each(function(v){if(_.isString(_prop)){_props.push(v[_prop])}else{_.each(_prop,function(value,index){v[index]=value})}});return _.specArray(_props)});_$_.add("attr",function(attr){var _attr=[];this.each(function(v){if(_.isString(attr)){_attr.push(v.getAttribute(attr))}else{_.each(attr,function(value,index){v.setAttribute(index,value)})}});return _.specArray(_attr)});_$_.add("removeAttr",function(attr){this.each(function(v){if(v[attr]){v[attr]=false}else{v.removeAttr(attr)}});return this});_$_.add("css",function(css){var _css=[],_self=this;_self.each(function(dom){if(_.isString(css)){var _style=window.getComputedStyle(dom,null);_css.push(_style.getPropertyValue(css))}else{_.each(css,function(value,index){dom.style[index]=value})}});return _.specArray(_css)});_$_.add("after",function(elem){if(_.isHtml(elem)||!_.is$(elem)){elem=_$(elem)}this.each(function(obj){var _parent=obj.parentNode;elem.each(function(v){_parent.insertBefore(v,obj.nextSibling)})});return this});_$_.add("before",function(elem){if(_.isHtml(elem)||!_.is$(elem)){elem=_$(elem)}this.each(function(obj){var _parent=obj.parentNode;elem.each(function(v){_parent.insertBefore(v,obj)})});return this});_$_.add("append",function(childs){var parent=this;if(_.isHtml(childs)||!_.is$(childs)){childs=_$(childs)}parent.each(function(p){childs.each(function(elm){p.appendChild(elm)})});return this});_$_.add("prepend",function(childs){var parent=this;if(_.isHtml(childs)||!_.is$(childs)){childs=_$(childs)}parent.each(function(p){childs.each(function(elm){p.insertBefore(elm,p.firstChild)})});return this});_$_.add("html",function(html){if(_.isHtml(html)||_.isString(html)){this.prop({innerHTML:html})}else{return this.prop("innerHTML")}return this});_$_.add("text",function(text){if(_.isString(text)){this.prop({textContent:text})}else{return this.prop("textContent")}return this});_$_.add("val",function(text){if(_.isString(text)){this.prop({value:text});return this}else{return this.prop("value")}});_$_.add("hide",function(){this.each(function(_elem){_elem.style.display="none"});return this});_$_.add("show",function(){this.each(function(_elem){_elem.style.display="block"});return this});_$_.add("parent",function(callback){this.each(function(_elem){_.callbackAudit(callback,_$(_elem.parentNode))});return this});_$_.add("children",function(callback){var _self=this;_self.each(function(_elem){if(_elem.children.length>0){_.each(_elem.children,function(v,i){if(_.isObject(v)&&!_.isFunction(v)&&_.isSet(_elem.children[i])){_.callbackAudit(callback,_$(v))}})}});return this});_$_.add("next",function(callback){var _self=this;_self.each(function(_elem){_.callbackAudit(callback,_$(_elem.nextElementSibling))});return this});_$_.add("nexts",function(filter,callback){callback=_.isFunction(filter)?filter:callback;var _self=this;_self.next(function(elem){var _sibling=elem;do{if(_.isSet(filter)&&!_.isFunction(filter)){_sibling.filter(filter,function(elem){_.callbackAudit(callback,elem)})}else{_.callbackAudit(callback,_sibling)}elem=_sibling}while((_sibling=_$(elem.collection.nextElementSibling)).exist)});return this});_$_.add("trigger",function(event,callback){var _event=new CustomEvent(event,{bubbles:true,cancelable:true});if(document.createEvent){_event=document.createEvent("Event");_event.initEvent(event,true,false)}this.each(function(v){v.dispatchEvent(_event)});_.callbackAudit(callback,_event);return this});_$_.add("find",function(filter,callback){var _self=this;_self.children(function(elem){elem.filter(filter,function(e){_.callbackAudit(callback,e)},function(){elem.find(filter,callback)})});return this});_$_.add("parents",function(parent_class,callback){var _self=this;_self.each(function(_elem){var _parent=_$(_elem.parentNode);_parent.filter(parent_class,function(parent){_.callbackAudit(callback,parent)},function(){_parent.parents(parent_class,callback)})});return _self});_$_.add("hasClass",function(elem,cls){return new RegExp("(\\s|^)"+cls+"(\\s|$)").test(_.isSet(elem.className.baseVal)?elem.className.baseVal:elem.className)});_$_.add("addClass",function(cls){var _self=this;_self.each(function(elem){if(!_self.hasClass(elem,cls)){if(elem.classList){elem.classList.add(cls)}else{if(_.isSet(elem.className.baseVal)){elem.className.baseVal+=" "+cls}else{elem.className+=" "+cls}}}});return this});_$_.add("toggleClass",function(cls){var _self=this;_self.each(function(elem){if(_self.hasClass(elem,cls)){elem.classList.toggle(cls)}});return this});_$_.add("removeClass",function(cls){var _self=this;_self.each(function(elem){if(_self.hasClass(elem,cls)){if(elem.classList){elem.classList.remove(cls)}else{var _regex=new RegExp(cls,"g");if(_.isSet(elem.className.baseVal)){elem.className.baseVal=_.replace(elem.className.baseVal,_regex,"")}else{elem.className=_.replace(elem.className.baseVal_regex,"")}}}});return this});_$_.add("fadeOut",function(delay){this.animate([{opacity:"1"},{opacity:"0"}],{delay:0,duration:_.isNumber(delay)?delay:50});return this});_$_.add("fadeIn",function(delay){this.animate([{opacity:"0"},{opacity:"1"}],{delay:0,duration:_.isNumber(delay)?delay:50});return this});_$_.add("height",function(height){if(_.isSet(height)){this.css({height:_.isNumber(height)?height+"px":height})}var _height=[];this.each(function(elem){_height.push(_.cartesianPlane(elem).height)});return _.specArray(_height)});_$_.add("width",function(width){if(_.isSet(width)){this.css({width:_.isNumber(width)?width+"px":width})}var _width=[];this.each(function(elem){_width.push(_.cartesianPlane(elem).width)});return _.specArray(_width)});_$_.add("is",function(context){_.assert(context,WARNING_SYRUP.ERROR.NOPARAM);var _return=false;this.each(function(v){_$(v).filter(context,function(){_return=true},function(){_return=v[context]||v["type"]===context});if(_return)return false});return _return});_$_.add("get",function(find){var _return=[],_self=this;_self.each(function(v){if(find.indexOf(":")>-1){_$(v).find(find,function(node){_return.push(node)})}else{_return.push(_$(v.querySelector(find)))}});return _.specArray(_return)});_$_.add("remove",function(){this.each(function(v){if(v.remove){v.remove()}else{v.parentNode.removeChild(v)}})});_$_.add("each",function(callback){var _element=this.collection;if(_.isSet(_element.childNodes)||_.isGlobal(_element)){_.callbackAudit(callback,_element,0)}else{_.each(_element,function(v,i,p){if(_.isObject(v)&&_.isSet(v)){_.callbackAudit(callback,v,i,p)}})}return this});_$_.add("offset",function(_object){var _offset=[];this.each(function(elem){var _cartesian=_.cartesianPlane(elem);if(_.isObject(_object)){if(_.isSet(_object.top)){elem.style.left=_.isNumber(_object.top)?_object.top+"px":_object.top}if(_.isSet(_object.left)){elem.style.top=_.isNumber(_object.left)?_object.left+"px":_object.left}if(_.isSet(_object.bottom)){elem.style.bottom=_.isNumber(_object.bottom)?_object.bottom+"px":_object.bottom}if(_.isSet(_object.right)){elem.style.right=_.isNumber(_object.right)?_object.right+"px":_object.right}}_offset.push({top:_cartesian.top,left:_cartesian.left,bottom:_cartesian.bottom,right:_cartesian.right})});return _.specArray(_offset)});_$_.add("sort",function(_prop,_desc,_object){if(_.isBoolean(_prop)){_desc=arguments[0];_prop=false}_desc=!_desc?1:-1;_prop=_prop?_prop:"innerHTML";_object=_.isObject(_object)?_object:this.collection;_object=_.toArray(_object);return _object.sort(function(a,b){var _a=a[_prop],_b=b[_prop];if(_.isSet(_a)&&_.isSet(_b)){a=!isNaN(+_a)?+_a:_a.toLowerCase();b=!isNaN(+_b)?+_b:_b.toLowerCase()}return a>b?_desc:_desc*-1})});_$_.add("animate",function(prop,conf,callback){this.each(function(elem){if(_.isSet(elem.animate)){if(_.isFunction(conf))callback=conf;conf=!_.isObject(conf)&&!_.isNumber(conf)?{}:conf;conf.iterations=_.isSet(conf.iterations)?conf.iterations:1;conf.duration=_.isSet(conf.duration)?conf.duration:1e3;conf.delay=_.isSet(conf.delay)?conf.delay:300;var _animation=elem.animate(prop,conf);_animation.addEventListener("finish",function(){_.callbackAudit(callback,_$(elem))})}});return this});_$_.add("object",function(){return this.collection});Syrup.add("assert",function(obj,msg){if(!_.isSet(obj)){_.error(_.isSet(msg)?msg:"Param needed")}return this});Syrup.add("isArray",function(obj){return _.objectAsString(obj)==="[object Array]"});Syrup.add("isObject",function(obj){return _.objectAsString(obj)==="[object Object]"||typeof obj==="object"&&_.objectAsString(obj)!=="[object Null]"});Syrup.add("isGlobal",function(obj){return _.objectAsString(obj)==="[object global]"||_.objectAsString(obj)==="[object Window]"||_.objectAsString(obj)==="[object HTMLDocument]"||_.objectAsString(obj)==="[object Document]"});Syrup.add("is$",function(obj){return obj instanceof _$_});Syrup.add("isFormData",function(obj){return _.objectAsString(obj)==="[object FormData]"});Syrup.add("isString",function(obj){return _.objectAsString(obj)==="[object String]"});Syrup.add("isFunction",function(obj){return _.objectAsString(obj)==="[object Function]"});Syrup.add("isHtml",function(html){return/(<([^>]+)>)/gi.test(html)});Syrup.add("isBoolean",function(bool){return this.objectAsString(bool)==="[object Boolean]"});Syrup.add("isRegexp",function(regex){return this.objectAsString(regex)==="[object RegExp]"});Syrup.add("isSet",function(elm){return typeof elm!=="undefined"&&elm!==null&&!!elm});Syrup.add("isEmpty",function(input){if(_.isArray(input)){return input.length===0}var value=_.isString(input)?input:input.value;return!value||value===""||/^\s+$/.test(value)});Syrup.add("isUrl",function(url){return/(http:\/\/|https:\/\/|\/\/)[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/g.test(url)});Syrup.add("isMail",function(mail){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(mail)});Syrup.add("isJson",function(str){try{JSON.parse(str)}catch(e){return false}return true});Syrup.add("isNumber",function(number){return!isNaN(number)});Syrup.add("warning",function(msg){var date=_.getDate(false);console.log(date.hour+":"+date.minutes+":"+date.seconds+" "+date.meridian+" -> "+msg)});Syrup.add("error",function(msg){var date=_.getDate(false);throw date.hour+":"+date.minutes+":"+date.seconds+" "+date.meridian+" -> "+msg});Syrup.add("htmlEntities",function(str){var match={"<":"&lt",">":"&gt;",'"':"&quot;","'":"&#39;","&":"&amp;"};return _.replace(str,/<|>|&|"|'/g,match)});Syrup.add("splitString",function(str,match){if(str.indexOf(match)>-1){return str.split(match)}return str});Syrup.add("truncateString",function(string,limit){return string.split(" ").slice(0,limit).join(" ")});Syrup.add("replace",function(_string,_find,_replace){var o=_string.toString(),s=o.toLowerCase(),r="",b=0,e=1,_tmp;if(!_.isRegexp(_find)){_find=_find.toLowerCase()}else{_find=o.match(_find);this.recursiveStr=s}if(_.isArray(_find)){if(_.isObject(_replace)){if(_find.length>0){_tmp=_find.pop();this.recursiveStr=_.replace(this.recursiveStr,_tmp,_replace[_tmp])}}else{_.error(WARNING_SYRUP.ERROR.NOOBJECTREPLACEREGEXP)}}else{while((e=s.indexOf(_find))>-1){r+=o.substring(b,b+e)+_replace;s=s.substring(e+_find.length,s.length);b+=e+_find.length}if(!_.isEmpty(s)>0){r+=o.substring(o.length-s.length,o.length)}if(!_.isEmpty(r)){this.recursiveStr=r}}return this.recursiveStr});Syrup.add("getDate",function(fecha){var _fecha=new Date,meridiano_,mes_=["January","February","March","April","May","June","July","August","September","October","November","December"],minutos_=_fecha.getMinutes(),hora_=_fecha.getHours(),segundos_=_fecha.getSeconds(),dia_=_fecha.getDate();_fecha=_.isSet(fecha)?new Date(fecha):_fecha;if(_fecha==="Invalid Date"){_.error(_fecha)}dia_=dia_<10?"0"+dia_:dia_;meridiano_=hora_>12?"PM":"AM";hora_=hora_>12?hora_-12===0?12:hora_-12:hora_<10?"0"+hora_:hora_;minutos_=minutos_<10?"0"+minutos_:minutos_;segundos_=segundos_<10?"0"+segundos_:segundos_;return{day:dia_,month:mes_[_fecha.getMonth()],year:_fecha.getFullYear(),hour:hora_,minutes:minutos_,seconds:segundos_,meridian:meridiano_}});Syrup.add("getNav",function(){var _regex=/(?:trident\/(?=\w.+rv:)|(?:chrome\/|firefox\/|opera\/|msie\s|safari\/))[\w.]{1,4}/,_matches=_.nav.local.match(_regex),_split=_.isSet(_matches)?_matches[0].split("/"):false;return _split?{nav:!!_split[0]?_.replace(_split[0],"trident","msie"):false,version:!!_split[1]?_split[1]:false,platform:navigator.platform.toLocaleLowerCase()}:false});Syrup.add("windowScrollTo",function(conf){if(!_.isObject(conf)){_.error(WARNING_SYRUP.ERROR.NOOBJECT)}if(!_.isSet(conf.limit))_.error("Limit needed");var _limit=window.scrollY>conf.limit?window.scrollY:-conf.limit,_result=_.isSet(conf.hold)?window.scrollY:0,_min=_.isSet(conf.hold)&&window.scrollY<conf.limit?window.scrollY:conf.limit;conf.limit=_limit;var _scrolling=_.interval(function(result){if(_.isSet(conf.step)){if(_limit<0){_result+=result*conf.step;if(_result>=_limit*-1){_scrolling.kill()}}else{_result-=(conf.limit-result)*conf.step;if(_result<=_min){_scrolling.kill()}}}window.scrollTo(0,_result)},conf);return _scrolling});Syrup.add("getEncodedId",function(longitud){var _text="",_longitud=!!longitud?longitud:5,_possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789=_";for(var i=0;i<_longitud;i++)_text+=_possible.charAt(Math.floor(Math.random()*_possible.length));return _text});Syrup.add("getObjectKeys",function(obj){if(_.isObject(obj)){return Object.keys(obj)}return[]});Syrup.add("getObjectSize",function(obj){if(_.isObject(obj)){return _.getObjectKeys(obj).length}return 0});Syrup.add("getObjectValues",function(obj){var _values=[];if(_.isObject(obj)){_.each(obj,function(v){_values.push(v)})}return _values});Syrup.add("objectAsString",function(obj){return Object.prototype.toString.call(obj)});Syrup.add("objectImmutable",function(obj){if(_.isObject(obj))return Object.freeze(obj);return obj});Syrup.add("objectWatch",function(obj,callback,conf){if(_.isObject(obj)&&_.isSet(callback))Object.observe(obj,callback,conf?conf:[]);return obj});Syrup.add("interval",function(callback,conf){var _worker=_.Workers;_worker.set("system/workers/setting/Interval",function(){_worker.send(conf)});_worker.on("message",function(e){_.callbackAudit(callback,e.data)});return _worker});Syrup.add("getCookie",function(name){var _mcookie=document.cookie,_cookie=null;if(!!_mcookie&&_mcookie!==""){var cookies=_mcookie.split(";");_.each(cookies,function(cookie){cookie=cookie.split("=");var _pre=cookie[0].trim(),_pos=cookie[1].trim();if(_pre===name){_cookie=_pos;return false}})}return _cookie});Syrup.add("simplifyDirectory",function(slashDir){if(_.isString(slashDir)){return slashDir.split("/").join(".")}return slashDir});Syrup.add("dotDirectory",function(dotDir){if(_.isString(dotDir)){return dotDir.split(".").join("/")}return dotDir});Syrup.add("limitBoxInput",function(_event,_max_value){if(!_.isObject(_event)&&!_event.target){_.error("Event Object Needed")}var _obj=_event.target,_value=_obj.value.length,_out=_max_value-_value;if(_out<=0&&_event.keyCode!==8||_value===0&&_event.keyCode===8||_event.type=="paste"){_event.preventDefault()}return _out});Syrup.add("parseJsonUrl",function(_object){var _return="",_size=_.isObject(_object)?_.getObjectSize(_object):0;_.each(_object,function(value,key){_return+=key+"="+value;if(_size>1){_return+="&"}});return _return.lastIndexOf("&")>-1?_return.slice(0,-1):_return});Syrup.add("getScript",function(url,callback){var _script=document.createElement("script"),_body=document.body,_loaded=function(){_$(_script).remove();_.callbackAudit(callback)};if(_.isSet(_script.readyState)){_script.addEventListener("readystatechange",function(){if(_script.readyState=="loaded"||_script.readyState=="complete"){_loaded()}},false)}else{_script.addEventListener("load",_loaded,false)}_script.src=url;_script.async=true;_body.appendChild(_script)});Syrup.add("each",function(_object,callback){var _p={first:false,last:false};if(_.isArray(_object)){var i=0,max=_object.length;for(;i<max;i++){_p.first=i===0;_p.last=i+1===max;_.callbackAudit(callback,_object[i],i,_p)}}else{if(_.isObject(_object)){var _keys=Object.keys(_object),_tmp,_i=_tmp=_keys.length;while(_i--){_p.first=_i+1===_tmp;_p.last=_i===0;_.callbackAudit(callback,_object[_keys[_i]],_keys[_i],_p)}}}return this});Syrup.add("cartesianPlane",function(_dom,all){_dom=_.is$(_dom)?_$(_dom).object():_dom;if(_.isGlobal(_dom)){return{top:_dom.pageYOffset,left:_dom.pageXOffset,width:_dom.outerWidth,height:_dom.outerHeight}}return!!all?_dom.getClientRects():_dom.getBoundingClientRect()});Syrup.add("callbackAudit",function(callback){try{if(!_.isSet(callback)){return false}var _args=_.toArray(arguments);_args=_.filterArray(_args,function(v,i){return!_.isFunction(v)});callback.apply(null,_args.length>0?_args:null)}catch(e){_.error(WARNING_SYRUP.ERROR.NOCALLBACK)}return true});Syrup.add("compactArray",function(arr){return _.filterArray(arr,function(i){return!!i?i:false})});Syrup.add("specArray",function(arr){if(!_.isArray(arr)){_.error(WARNING_SYRUP.ERROR.NOARRAY)}return arr.length>1?arr:_.isSet(arr[0])?arr[0]:null});Syrup.add("repeatString",function(str,times){return Array(times+1).join(str)});Syrup.add("filterArray",function(array,filter){return array.filter(filter)});Syrup.add("inObject",function(needle,haystack){var _exist=false;_.each(haystack,function(v,i){if(_.isObject(v)){_exist=_.inObject(needle,v);if(_exist){return false}}else{if(v===needle){_exist=i;return false}}});return _exist===0?true:_exist});Syrup.add("matchInArray",function(find,haystack){var needle=new RegExp(haystack.join("|"),"g");return needle.test(find)});Syrup.add("uniqueArray",function(array){var _new=[];_.each(array,function(v){if(!_.inObject(v,_new)){_new.push(v)}});return _new});Syrup.add("toArray",function(element){if(_.isObject(element)){return[].slice.apply(element)}else{if(_.isString(element)){return element.split("")}}});Syrup.add("toObject",function(element){if(_.isString(element)){element=element.split("")}if(!_.isArray(element)){_.error(WARNING_SYRUP.ERROR.NOARRAY)}return element.reduce(function(o,v,i){o[i]=v;return o},{})});Syrup.add("objectDistribute",function(obj,index){var _new={};if(!_.isObject(obj[index])){_new[obj[index]]=obj}else{_.each(obj[index],function(v,i){_new[v]={};_.each(obj,function(r,j){if(j!==index){_new[v][j].push(r[i])}})})}return _new});Syrup.add("getElementIndex",function(node){var i=1,prop=document.body.previousElementSibling?"previousElementSibling":"previousSibling";while(node=node[prop]){++i}return i});Syrup.add("extend",function(target,source,overwrite){if(!_.isObject(target)||!source){return target}if(_.isFunction(source)){source=new source;target=target.__proto__}_.each(source,function(v,i){if(!target.hasOwnProperty(i)||_.isSet(overwrite)){target[i]=v}});return target});Syrup.add("include",function(script,wait,callback){var _url=!_.isUrl(script)?setting.app_path+script+".min.js":script+".min.js",_script=script.split("/").pop();if(_.isFunction(wait)){callback=arguments[1];wait=false}if(wait&&_.isSet(_.scriptCalls[wait])&&_.isSet(_.waitingCalls[wait])){if(_.waitingCalls[wait]!=="done"){if(!_.isSet(_.waitingCalls[wait])){_.waitingCalls[wait]=[]}_.waitingCalls[wait].push(function(){_.include(script,false,callback)});return false}}if(_.isSet(_.scriptCalls[_script])){_.callbackAudit(callback);return false}_.scriptCalls[_script]=script;_.getScript(_url,function(e){if(_.isSet(_.waitingCalls[_script])){if(_.isObject(_.waitingCalls[_script])){_.each(_.waitingCalls[_script],function(v){v(e)});_.waitingCalls[_script]="done"}}_.callbackAudit(callback)})});window._=function(){return new Syrup}();_.VERSION="1.0.0";_.nav={};_.nav.unsupported=!window.localStorage||!window.File||!window.FileReader||!window.FileList||!window.Blob||!window.Worker||!window.WebSocket;_.nav.cookies=navigator.cookieEnabled;_.nav.javascript=navigator.javaEnabled();_.nav.online=navigator.onLine;_.nav.local=navigator.userAgent.toLowerCase();window._$=function(){return(new _$_).$}();