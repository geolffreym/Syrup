'use strict';(function(window) {function Repo() {}Repo.add('set',function(key, data) {localStorage.setItem(key,JSON.stringify(data));});Repo.add('get',function(key) {return _.isJson(localStorage.getItem(key)) ? JSON.parse(localStorage.getItem(key)) : null;});Repo.add('append',function(key, element) {var _existent = this.get(key),_new = _.extend(_.isSet(_existent) ? _existent : {},element);this.set(key,_new,false);return this;});Repo.add('destroy',function() {localStorage.clear();});Repo.add('clear',function(key) {localStorage.removeItem(key);return this;});Repo.add('count',function() {return localStorage.length;});window.Repo = Repo;})(window);
