<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script src="/syrup/dist/init.js"></script>

<main sp-app></main>


<script>

    //Module
    App.module ('main', [
        'Http',
        'Router'

    ]).spice ({
        MAX: 1
    }).cook (function ($) {

        //Provide conf to Router
        $.Router.connect (this).set ({
            'home' : '/syrup/Modules.html',
            'route': '/route/:page/:user/'

        }).then (function (route) {

            route.when ('home', {
                tpl    : 'skull/home.html',
                app    : 'index',
                default: true

            }).when ('route', {
                tpl: 'skull/route.html',
                app: 'route'
            })

        });
    })

</script>

<script>

    (function (App) {
        //Encapsulate

        var _main = App.module ('main'),
                _indexApp = _main.blend ('index', []);

        //Index App
        _indexApp.recipe ('home1', function () {
            return {
                init   : function ($) {

                    //Global Http
                    //console.log ($.main.Http);

                    //Own Http?
                    //console.log ($.Http);

                    this.scope.set ({
                        beatles: [
                            { firstName: 'Pedro', lastName: 'Perez' }
                        ]
                    }).view.render ('Hey/You.html', true);


                }
            }
        }).recipe ('home2', function (_, g) {
            return {}
        });

    }) (App);




</script>
</body>
</html>