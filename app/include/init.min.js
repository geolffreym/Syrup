"use strict";function Syrup(){this.recursiveStr=!1}function _$_(){this.collection=null,this.exist=null,this.state=null}function Require(){this.scriptCalls={},this.waitingCalls={}}function Libs(){this.breadcrumb={},this.object={},this.name=null}function Modules(){this.root=null,this.lib=null,this.scope={},this.modules={},this.onchange={},this.ondrop={}}function Ajax(){this.xhr=new window.XMLHttpRequest||new window.ActiveXObject("Microsoft.XMLHTTP"),this.xhr_list=[],this.upload=null,this.before=null,this.complete=null,this.progress=null,this.state=null,this.abort=null,this.error=null,this.time_out=null}function Repository(){}function Workers(){this.Worker=null,this.onsuccess=null}function Template(){this.Ajax=new Ajax,this.Repository=new Repository,this.Workers=new Workers,this.template=null}var nativeFunction=Function.prototype,nativeObject=Object.prototype,regexConstructor=/(([^function])([a-zA-z])+(?=\())/g,regexUrl=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,regexMail=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,WARNING_SYRUP={ERROR:{NOPARAM:"Param needed",NOOBJECT:"An object param is necessary.",NOARRAY:"An array necessary.",NOFUNCTION:"An function necessary.",NODATE:"Invalid Date",NOSTRING:"String is required",NODOM:" not exist in the DOM document",NOCALLBACK:"Callback error on execution time.",NOURL:"URL is required for the request.",NOHTML:"Html string is required",NOOBJECTREPLACEREGEXP:"A object replace param is needed to replace a regexp ex: {match:replace}"}};nativeFunction.blend=function(t){var e=t.prototype.constructor.name||t.toString().match(regexConstructor)[0].trim();this.prototype[e]=t},nativeFunction.factory=function(t){return new Function("return function "+t+"(){}")},nativeFunction.drop=function(t){var e=t.prototype.constructor.name||t.toString().match(regexConstructor)[0].trim();return _[e]?(_[e]=null,!0):!1},nativeFunction.add=function(t,e){this.prototype[t.trim()]=e},_$_.add("$",function(t){var e,n=new _$_;return _.isFunction(t)?void _$(document).ready(t):(_.isHtml(t)?(e=document.createElement("div"),e.innerHTML=t,n.collection=e.children.length>1?e.children:e.firstChild):n.collection=!_.isObject(t)&&_.isString(t)?t.indexOf("+")>-1?document.querySelectorAll(_.replace(t,"+",_.emptyStr)):document.querySelector(t):t,n.exist=_.isSet(n.collection),n.name=t,n)}),_$_.add("fn",function(t,e){return this.__proto__[t]=e}),_$_.add("ready",function(t){var e=this;return _.isGlobal(e.collection)&&e.collection.addEventListener("DOMContentLoaded",t),this}),_$_.add("load",function(t){var e=this;_.isGlobal(e.collection)&&(e.collection.onload=t)}),_$_.add("listen",function(t,e,n){_.isFunction(e)&&(n=e);var i=this,r=null,o=function(i){i=i||window.event,r=t.srcElement||i.target,_.isSet(e)&&!_.isFunction(e)?_$(r).filter(e,function(){_.callbackAudit(n,i)}):_.callbackAudit(n,i)};return i.each(function(e){e.addEventListener?e.addEventListener(t,o,!0):e.attachEvent&&e.attachEvent("on"+t,o),_.isSet(e.listListener)||(e.listListener={}),e.listListener[t]=o}),this}),_$_.add("unlisten",function(t){this.each(function(e){_.isSet(e.listListener)&&t in e.listListener&&(e.removeEventListener?e.removeEventListener(t,e.listListener[t],!0):e.detachEvent&&e.detachEvent("on"+t,e.listListener[t]),delete e.listListener[t])})}),_$_.add("filter",function(t,e,n){return this.each(function(i){var r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector;r.call(i,t)?_.callbackAudit(e,_$(i)):_.isFunction(n)&&_.callbackAudit(n,i)}),this}),_$_.add("empty",function(){return this.each(function(t){t.innerHTML=_.emptyStr}),this}),_$_.add("clone",function(t){t=_.isSet(t);var e=[];return this.each(function(n){e.push(_$(n.cloneNode(t)))}),_.specArray(e)}),_$_.add("data",function(t,e){var n,i=this,r=[];return i.each(function(i,o){n=i.dataset,_.isSet(e)||_.isNumber(e)?n[t]=_.isArray(e)?e[o]:e:_.isSet(n[t])&&r.push(n[t])}),_.specArray(r)}),_$_.add("prop",function(t){var e=[];return this.each(function(n){_.isString(t)?e.push(n[t]):_.each(t,function(t,e){n[e]=t})}),_.specArray(e)}),_$_.add("attr",function(t){var e=[];return this.each(function(n){_.isString(t)?e.push(n.getAttribute(t)):_.each(t,function(t,e){n.setAttribute(e,t)})}),_.specArray(e)}),_$_.add("removeAttr",function(t){return this.each(function(e){e[t]?e[t]=!1:e.removeAttr(t)}),this}),_$_.add("css",function(t){var e=[],n=this;return n.each(function(n){if(_.isString(t)){var i=window.getComputedStyle(n,null);e.push(i.getPropertyValue(t))}else _.each(t,function(t,e){n.style[e]=t})}),_.specArray(e)}),_$_.add("after",function(t){return(_.isHtml(t)||!_.is$(t))&&(t=_$(t)),this.each(function(e){t.each(function(t){e.parentNode.insertBefore(t,e.nextSibling)})}),this}),_$_.add("before",function(t){return(_.isHtml(t)||!_.is$(t))&&(t=_$(t)),this.each(function(e){t.each(function(t){e.parentNode.insertBefore(t,e)})}),this}),_$_.add("append",function(t){return(_.isHtml(t)||!_.is$(t))&&(t=_$(t)),this.each(function(e){t.each(function(t){e.appendChild(t)})}),this}),_$_.add("prepend",function(t){return(_.isHtml(t)||!_.is$(t))&&(t=_$(t)),this.each(function(e){t.each(function(t){e.insertBefore(t,e.firstChild)})}),this}),_$_.add("html",function(t){return _.isHtml(t)||_.isString(t)?(this.prop({innerHTML:t}),this):this.prop("innerHTML")}),_$_.add("text",function(t){return _.isString(t)?(this.prop({textContent:t}),this):this.prop("textContent")}),_$_.add("val",function(t){return _.isString(t)?(this.prop({value:t}),this):this.prop("value")}),_$_.add("hide",function(){return this.each(function(t){t.style.display="none"}),this}),_$_.add("show",function(){return this.each(function(t){t.style.display="block"}),this}),_$_.add("parent",function(t){return this.each(function(e){e.parentNode&&_.callbackAudit(t,_$(e.parentNode))}),this}),_$_.add("children",function(t){return this.each(function(e){e.children.length>0&&_.each(e.children,function(e,n){_.isNumber(n)&&_.callbackAudit(t,_$(e))})}),this}),_$_.add("next",function(t){return this.each(function(e){_.callbackAudit(t,_$(e.nextElementSibling))}),this}),_$_.add("nexts",function(t,e){var n=null;return e=_.isFunction(t)?t:e,this.next(function(i){n=i;do _.isSet(t)&&!_.isFunction(t)?n.filter(t,function(t){_.callbackAudit(e,t)}):_.callbackAudit(e,n);while((n=_$(n.collection.nextElementSibling)).exist)}),this}),_$_.add("trigger",function(t,e){var n=new CustomEvent(t,{bubbles:!0,cancelable:!0});return document.createEvent&&(n=document.createEvent("Event"),n.initEvent(t,!0,!1)),this.each(function(t){t.dispatchEvent(n)}),_.callbackAudit(e,n),this}),_$_.add("find",function(t,e){return this.children(function(n){n.filter(t,function(t){_.callbackAudit(e,t)},function(){n.find(t,e)})}),this}),_$_.add("parents",function(t,e){return this.each(function(n){_$(n).parent(function(n){n.filter(t,function(t){_.callbackAudit(e,t)},function(){n.parents(t,e)})})}),this}),_$_.add("hasClass",function(t,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)}),_$_.add("addClass",function(t){var e=this;return e.each(function(n){e.hasClass(n,t)||(n.classList?n.classList.add(t):n.className+=" "+t)}),this}),_$_.add("toggleClass",function(t){var e=this;return e.each(function(n){e.hasClass(n,t)&&n.classList.toggle(t)}),this}),_$_.add("removeClass",function(t){var e=this;return e.each(function(n){e.hasClass(n,t)&&(n.classList?n.classList.remove(t):n.className=_.replace(n.className,new RegExp(t,"g"),_.emptyStr))}),this}),_$_.add("fadeOut",function(t,e){return this.animate([{opacity:"1"},{opacity:"0"}],{delay:0,duration:_.isNumber(t)?t:50},_.isFunction(t)?t:e),this}),_$_.add("fadeIn",function(t,e){return this.animate([{opacity:"0"},{opacity:"1"}],{delay:0,duration:_.isNumber(t)?t:50},_.isFunction(t)?t:e),this}),_$_.add("height",function(t){if(_.isSet(t))return this.css({height:_.isNumber(t)?t+"px":t}),this;var e=[];return this.each(function(t){e.push(_.cartesianPlane(t).height)}),_.specArray(e)}),_$_.add("width",function(t){if(_.isSet(t))return this.css({width:_.isNumber(t)?t+"px":t}),this;var e=[];return this.each(function(t){e.push(_.cartesianPlane(t).width)}),_.specArray(e)}),_$_.add("is",function(t){_.assert(t,WARNING_SYRUP.ERROR.NOPARAM);var e=!1;return this.each(function(n){return _$(n).filter(t,function(){e=!0},function(){e=n[t]||n.type===t}),e?!1:void 0}),e}),_$_.add("get",function(t){var e=[];return this.children(function(n){n.is(t)&&e.push(n)}),_.specArray(e)}),_$_.add("remove",function(){this.each(function(t){t.remove?t.remove():t.parentNode.removeChild(t)})}),_$_.add("each",function(t){var e=this.collection;return _.isSet(e.childNodes)||_.isGlobal(e)?_.callbackAudit(t,e,0):_.each(e,function(e,n,i){_.isObject(e)&&_.isSet(e)&&_.callbackAudit(t,e,n,i)}),this}),_$_.add("offset",function(t){var e=[];return this.each(function(n){var i=_.cartesianPlane(n);_.isObject(t)&&(_.isSet(t.top)&&(n.style.top=_.isNumber(t.top)?t.top+"px":t.top),_.isSet(t.left)&&(n.style.left=_.isNumber(t.left)?t.left+"px":t.left),_.isSet(t.bottom)&&(n.style.bottom=_.isNumber(t.bottom)?t.bottom+"px":t.bottom),_.isSet(t.right)&&(n.style.right=_.isNumber(t.right)?t.right+"px":t.right)),e.push({top:i.top,left:i.left,bottom:i.bottom,right:i.right})}),_.specArray(e)}),_$_.add("sort",function(t,e,n){return _.isBoolean(t)&&(e=arguments[0],t=!1),e=e?-1:1,t=t?t:"innerHTML",n=_.isObject(n)?n:this.collection,n=_.toArray(n),n.sort(function(n,i){var r=n[t],o=i[t];return _.isSet(r)&&_.isSet(o)&&(n=isNaN(+r)?r.toLowerCase():+r,i=isNaN(+o)?o.toLowerCase():+o),n>i?e:-1*e})}),_$_.add("animate",function(t,e,n){return this.each(function(i){if(_.isSet(i.animate)){_.isFunction(e)&&(n=e),e=_.isObject(e)||_.isNumber(e)?e:{},e.iterations=_.isSet(e.iterations)?e.iterations:1,e.duration=_.isSet(e.duration)?e.duration:1e3,e.delay=_.isSet(e.delay)?e.delay:300;var r=i.animate(t,e);r.addEventListener("finish",function(){_.callbackAudit(n,_$(i))})}}),this}),_$_.add("object",function(){return this.collection}),Syrup.add("noConflict",function(){return _$}),Syrup.add("assert",function(t,e){return _.isSet(t)||_.error(_.isSet(e)?e:"Param needed"),this}),Syrup.add("isArray",function(t){return"[object Array]"===_.objectAsString(t)}),Syrup.add("isObject",function(t){return"[object Object]"===_.objectAsString(t)||"object"==typeof t&&"[object Null]"!==_.objectAsString(t)}),Syrup.add("isGlobal",function(t){return"[object global]"===_.objectAsString(t)||"[object Window]"===_.objectAsString(t)||"[object HTMLDocument]"===_.objectAsString(t)||"[object Document]"===_.objectAsString(t)}),Syrup.add("is$",function(t){return t instanceof _$_}),Syrup.add("isFormData",function(t){return"[object FormData]"===_.objectAsString(t)}),Syrup.add("isString",function(t){return"[object String]"===_.objectAsString(t)}),Syrup.add("isFunction",function(t){return"[object Function]"===_.objectAsString(t)}),Syrup.add("isHtml",function(t){return/(<([^>]+)>)/gi.test(t)}),Syrup.add("isBoolean",function(t){return"[object Boolean]"===this.objectAsString(t)}),Syrup.add("isRegexp",function(t){return"[object RegExp]"===this.objectAsString(t)}),Syrup.add("isSet",function(t){return"undefined"!=typeof t&&null!==t&&!!t}),Syrup.add("isEmpty",function(t){return _.isArray(t)?0===t.length:!t||t===_.emptyStr||/^\s+$/.test(t)}),Syrup.add("isUrl",function(t){return regexUrl.test(t)}),Syrup.add("isMail",function(t){return regexMail.test(t)}),Syrup.add("isJson",function(t){try{JSON.parse(t)}catch(e){return!1}return!0}),Syrup.add("isNumber",function(t){return!isNaN(t)}),Syrup.add("warning",function(t){var e=_.getDate(!1);console.log(e.hour+":"+e.minutes+":"+e.seconds+" "+e.meridian+" -> "+t)}),Syrup.add("error",function(t){var e=_.getDate(!1);throw e.hour+":"+e.minutes+":"+e.seconds+" "+e.meridian+" -> "+t}),Syrup.add("htmlEntities",function(t){var e={"<":"&lt",">":"&gt;",'"':"&quot;","'":"&#39;","&":"&amp;"};return _.replace(t,/<|>|&|"|'/g,e)}),Syrup.add("splitString",function(t,e){return t.indexOf(e)>-1?t.split(e):t}),Syrup.add("truncateString",function(t,e){return _.toObject(t).slice(0,e)}),Syrup.add("replace",function(t,e,n){var i,r=t.toString(),o=r.toLowerCase(),s=_.emptyStr,a=0,u=1;if(_.isRegexp(e)?(e=r.match(e),this.recursiveStr=o):e=e.toLowerCase(),_.isArray(e))_.isObject(n)?e.length>0&&(i=e.pop(),this.recursiveStr=_.replace(this.recursiveStr,i,n[i])):_.error(WARNING_SYRUP.ERROR.NOOBJECTREPLACEREGEXP);else{for(;(u=o.indexOf(e))>-1;)s+=r.substring(a,a+u)+n,o=o.substring(u+e.length,o.length),a+=u+e.length;!_.isEmpty(o)>0&&(s+=r.substring(r.length-o.length,r.length)),_.isEmpty(s)||(this.recursiveStr=s)}return this.recursiveStr}),Syrup.add("getDate",function(t){var e,n=new Date,i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=n.getMinutes(),o=n.getHours(),s=n.getSeconds(),a=n.getDate();return n=_.isSet(t)?new Date(t):n,"Invalid Date"===n&&_.error(n),a=10>a?"0"+a:a,e=o>12?"PM":"AM",o=o>12?o-12===0?12:o-12:10>o?"0"+o:o,r=10>r?"0"+r:r,s=10>s?"0"+s:s,{day:a,month:i[n.getMonth()],year:n.getFullYear(),hour:o,minutes:r,seconds:s,meridian:e}}),Syrup.add("getNav",function(){var t=/(?:trident\/(?=\w.+rv:)|(?:chrome\/|firefox\/|opera\/|msie\s|safari\/))[\w.]{1,4}/,e=_.nav.local.match(t),n=_.isSet(e)?e[0].split("/"):!1;return n?{nav:n[0]?_.replace(n[0],"trident","msie"):!1,version:n[1]?n[1]:!1,platform:navigator.platform.toLocaleLowerCase()}:!1}),Syrup.add("getEncodedId",function(t){for(var e=_.emptyStr,n=t?t:5,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789=_",r=0;n>r;r++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}),Syrup.add("getObjectKeys",function(t){return _.isObject(t)?Object.keys(t):[]}),Syrup.add("getObjectSize",function(t){return _.isObject(t)?_.getObjectKeys(t).length:0}),Syrup.add("getObjectValues",function(t){return _.isObject(t)?_.getObjectKeys(t).map(function(e){return t[e]}):[]}),Syrup.add("objectAsString",function(t){return nativeObject.toString.call(t)}),Syrup.add("objectImmutable",function(t){return _.isObject(t)?Object.freeze(t):t}),Syrup.add("objectWatch",function(t,e,n){return _.isObject(t)&&_.isSet(e)&&Object.observe(t,e,n?n:[]),t}),Syrup.add("interval",function(t,e){var n=new Workers;return n.set("/workers/setting/Interval",function(){n.send(e)}).on("message",function(e){_.callbackAudit(t,e.data)}),n}),Syrup.add("requestAnimationFrame",function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})(t)}),Syrup.add("getCookie",function(t){var e=document.cookie,n=null;if(e&&e!==_.emptyStr){var i=e.split(";");_.each(i,function(e){e=e.split("=");var i=e[0].trim(),r=e[1].trim();return i===t?(n=r,!1):void 0})}return n}),Syrup.add("simplifyDirectory",function(t){return _.isString(t)?t.split("/").join("."):t}),Syrup.add("dotDirectory",function(t){return _.isString(t)?t.split(".").join("/"):t}),Syrup.add("jsonToQueryString",function(t){var e=_.emptyStr,n=_.isObject(t)?_.getObjectSize(t):0;return _.each(t,function(t,i){e+=i+"="+t,n>1&&(e+="&")}),e.lastIndexOf("&")>-1?e.slice(0,-1):e}),Syrup.add("jsonToString",function(t){return _.isObject(t)?JSON.stringify(t):null}),Syrup.add("getScript",function(t,e){var n=document.createElement("script"),i=document.body,r=function(){_$(n).remove(),_.callbackAudit(e)};_.isSet(n.readyState)?n.addEventListener("readystatechange",function(){("loaded"==n.readyState||"complete"==n.readyState)&&r()},!1):n.addEventListener("load",r,!1),n.src=t,n.async=!0,i.appendChild(n)}),Syrup.add("each",function(t,e){var n={first:!1,last:!1};if(_.isArray(t))for(var i=0,r=t.length;r>i;i++)n.first=0===i,n.last=i+1===r,_.callbackAudit(e,t[i],i,n);else if(_.isObject(t))for(var o,s=Object.keys(t),a=o=s.length;a--;)n.first=a+1===o,n.last=0===a,_.callbackAudit(e,t[s[a]],s[a],n);return this}),Syrup.add("cartesianPlane",function(t,e){return t=_.is$(t)?_$(t).object():t,_.isGlobal(t)?{top:t.pageYOffset,left:t.pageXOffset,width:t.outerWidth,height:t.outerHeight}:e?t.getClientRects():t.getBoundingClientRect()}),Syrup.add("callbackAudit",function(t){try{if(!_.isSet(t))return!1;var e=_.toArray(arguments);e=_.filterArray(e,function(t,e){return!_.isFunction(t)}),t.apply(null,e.length>0?e:null)}catch(n){_.error(WARNING_SYRUP.ERROR.NOCALLBACK)}return!0}),Syrup.add("compactArray",function(t){return _.filterArray(t,function(t){return t?t:!1})}),Syrup.add("specArray",function(t){return _.isArray(t)||_.error(WARNING_SYRUP.ERROR.NOARRAY),t.length>1?t:_.isSet(t[0])?t[0]:null}),Syrup.add("repeatString",function(t,e){return Array(e+1).join(t)}),Syrup.add("filterArray",function(t,e){return t.filter(e)}),Syrup.add("inObject",function(t,e){var n=!1;return _.each(e,function(e,i){if(_.isObject(e)){if(n=_.inObject(t,e))return!1}else if(e===t)return n=i,!1}),0===n?!0:n}),Syrup.add("matchInArray",function(t,e){var n=new RegExp(e.join("|"),"g");return n.test(t)}),Syrup.add("uniqueArray",function(t){var e=[];return t.filter(function(t){return-1==e.indexOf(t)?(e.push(t),t):void 0})}),Syrup.add("toArray",function(t){return _.isObject(t)?[].slice.apply(t):_.isString(t)?_.toObject(t):void 0}),Syrup.add("toString",function(t){return _.isObject(t)?JSON.stringify(t):void 0}),Syrup.add("toObject",function(t){return _.isJson(t)?JSON.parse(t):_.isString(t)?nativeObject.valueOf.call(t):(_.isArray(t)||_.error(WARNING_SYRUP.ERROR.NOARRAY),t.reduce(function(t,e,n){return t[n]=e,t},{}))}),Syrup.add("objectDistribute",function(t,e){var n={};return _.isObject(t[e])?_.each(t[e],function(i,r){n[i]={},_.each(t,function(t,o){o!==e&&n[i][o].push(t[r])})}):n[t[e]]=t,n}),Syrup.add("getElementIndex",function(t){for(var e=1,n=document.body.previousElementSibling?"previousElementSibling":"previousSibling";t=t[n];)++e;return e}),Syrup.add("extend",function(t,e,n){return _.isObject(t)&&e?(_.isFunction(e)&&(e=new e,t=t.__proto__),_.each(e,function(e,i){(!t.hasOwnProperty(i)||_.isSet(n))&&(t[i]=e)}),t):t}),window._=function(){return new Syrup}(),_.VERSION="1.1",_.$fn=_$_,_.emptyStr="",_.nav={},_.nav.unsupported=!(window.localStorage&&window.File&&window.FileReader&&window.FileList&&window.Blob&&window.Worker&&window.WebSocket),_.nav.cookies=navigator.cookieEnabled,_.nav.javascript=navigator.javaEnabled(),_.nav.online=navigator.onLine,_.nav.local=navigator.userAgent.toLowerCase(),window._$=function(){return(new _$_).$}(),Object.observe||!function(t,e){var n=function(t){var n=t.call(t),i=typeof i;return"object"==typeof e.alert?function(e){return n===t.call(e)||!!e&&typeof e.toString==i&&typeof e.valueOf==i&&/^\s*\bfunction\b/.test(""+e)}:function(e){return n===t.call(e)}}(t.prototype.toString),i=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},r=function(){return!!e.setImmediate}(),o=function(){return r?function(t){return setImmediate(t)}:function(t){return setTimeout(t,10)}}(),s=function(){return r?function(t){clearImmediate(t)}:function(t){clearTimeout(t)}}(),a=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},u=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e},c=function(t){return"undefined"==typeof t?!1:"get"in t||"set"in t},d=function(t,e,i){if("object"!=typeof t)throw new TypeError("Object.observeObject called on non-object");if(n(e)===!1)throw new TypeError("Object.observeObject: Expecting function");if(Object.isFrozen(e)===!0)throw new TypeError("Object.observeObject: Expecting unfrozen function");if(void 0!==i&&!Array.isArray(i))throw new TypeError("Object.observeObject: Expecting acceptList in the form of an array")},l=function f(){var t=[],f=function(e,n,i){d(e,n,i),i||(i=["add","update","delete","reconfigure","setPrototype","preventExtensions"]),Object.getNotifier(e).addListener(n,i),-1===t.indexOf(e)?t.push(e):Object.getNotifier(e)._checkPropertyListing()};f.prototype.deliverChangeRecords=function(t){Object.getNotifier(t).deliverChangeRecords()},t.lastScanned=0;var e=function(t){return function e(){var n=0,i=t.length,r=new Date,s=!1;for(n=t.lastScanned;i>n&&!s;n++)h.indexOf(t[n])>-1?(Object.getNotifier(t[n])._checkPropertyListing(),s=new Date-r>100):(t.splice(n,1),n--,i--);t.lastScanned=i>n?n:0,o(e)}}(t);return o(e),f}(),p=function(t){var e=[],n=[],i=[],r=!1,d=[],l=[],p=this;Object.defineProperty(p,"_watching",{enumerable:!0,get:function(t){return function(){return t}}(t)});var _=function(t,e){var n=(typeof t[e],Object.getOwnPropertyDescriptor(t,e));if("getNotifier"===e||c(n)||!n.enumerable)return!1;if(t instanceof Array&&a(e)){var i=d.length;return d[i]=e,l[i]=t[e],!0}return function(e,n){function i(){return l[i.info.idx]}function r(e){u(l[r.info.idx],e)||(Object.getNotifier(t).queueUpdate(t,n,"update",l[r.info.idx]),l[r.info.idx]=e)}d[e]=n,l[e]=t[n],i.info=r.info={idx:e},Object.defineProperty(t,n,{get:i,set:r})}(d.length,e),!0};p._checkPropertyListing=function(t){var e,n,i,r,o,s=p._watching,u=Object.keys(s),c=0,h=u.length,f=d.slice(0),m=!t;for(s instanceof Array&&(o=p._oldLength),c=0;h>c;c++)e=u[c],i=s[e],n=typeof i,-1===(r=d.indexOf(e))?_(s,e)&&m&&p.queueUpdate(s,e,"add",null,s[e]):(s instanceof Array&&!a(e)||l[r]!==i&&(m&&p.queueUpdate(s,e,"update",l[r],i),l[r]=i),f.splice(f.indexOf(e),1));if(s instanceof Array&&s.length!==o&&(m&&p.queueUpdate(s,"length","update",o,s),p._oldLength=s.length),m)for(h=f.length,c=0;h>c;c++){r=d.indexOf(f[c]),p.queueUpdate(s,f[c],"delete",l[r]),d.splice(r,1),l.splice(r,1);for(var c=r;c<d.length;c++)if(d[c]in s){var g=Object.getOwnPropertyDescriptor(s,d[c]).get;if(g){var b=g.info;b.idx=c}}}},p.addListener=function(t,i){var r=e.indexOf(t);-1===r?(e.push(t),n.push(i)):n[r]=i},p.removeListener=function(t){var i=e.indexOf(t);i>-1&&(e.splice(i,1),n.splice(i,1))},p.listeners=function(){return e},p.queueUpdate=function(t,e,n,i){this.queueUpdates([{type:n,object:t,name:e,oldValue:i}])},p.queueUpdates=function(t){var e,n=this,a=0,u=t.length||0;for(a=0;u>a;a++)e=t[a],i.push(e);r&&s(r),r=o(function(){r=!1,n.deliverChangeRecords()})},p.deliverChangeRecords=function(){var t=0,r=e.length;for(t=0;r>t;t++)if(e[t]){var o;if(n[t]){o=[];for(var s=0,a=i.length;a>s;s++)-1!==n[t].indexOf(i[s].type)&&o.push(i[s])}else o=i;o.length&&(e[t]===console.log?console.log(o):e[t](o))}i=[]},p.notify=function(e){if("object"!=typeof e||"string"!=typeof e.type)throw new TypeError("Invalid changeRecord with non-string 'type' property");e.object=t,p.queueUpdates([e])},p._checkPropertyListing(!0)},_=[],h=[];t.getNotifier=function(t){var e=h.indexOf(t),n=e>-1?_[e]:!1;return n||(e=h.length,h[e]=t,n=_[e]=new p(t)),n},t.observe=function(t,e,n){return i(t)?void 0:new l(t,e,n)},t.unobserve=function(t,e){d(t,e);var n=h.indexOf(t),i=n>-1?_[n]:!1;i&&(i.removeListener(e),0===i.listeners().length&&(h.splice(n,1),_.splice(n,1)))}}(Object,this),Require.add("toWait",function(t,e,n){var i=this;return _.isSet(n)&&"wait"in n&&_.isSet(i.scriptCalls[n.wait])&&(_.isSet(i.waitingCalls[n.wait])||(i.waitingCalls[n.wait]=[]),"done"!==i.waitingCalls[n.wait])?(i.waitingCalls[n.wait].push(function(){i.request(t,e)}),!0):!1}),Require.add("request",function(t,e,n){var i=this,r=_.isUrl(t)?t+".min.js":setting.app_path+t+".min.js",o=t.split("/").pop();return i.toWait(t,e,n)?!1:_.isSet(i.scriptCalls[o])?(_.callbackAudit(e),!1):(i.scriptCalls[o]=t,_.getScript(r,function(t){if(_.isSet(i.waitingCalls[o])&&_.isArray(i.waitingCalls[o])){for(var n=0,r=i.waitingCalls[o].length;r>n;n++)i.waitingCalls[o][n](t);i.waitingCalls[o]="done"}_.callbackAudit(e)}),this)}),window.Require=new Require,Libs.add("blend",function(t,e){var n=_.splitString(t,".");_.isArray(n)&&(t=n[0]);var i=Function.factory(t)();return _.isSet(this.breadcrumb[t])?_.isSet(_[this.name][t])||(t=n.pop(),_[this.name][t]={},this.object=_[this.name][t],this.breadcrumb[t]=this.object):(Syrup.blend(i),this.name=t,this.object=_[t],this.breadcrumb[t]=this.object),this._dependencies(e),this}),Libs.add("get",function(t){return _.isSet(this.breadcrumb[t])&&this.breadcrumb[t]}),Libs.add("_dependencies",function(t){var e=this;_.isArray(t)&&_.isSet(e.object)&&_.each(t,function(t){e.object.__proto__[t]=_.isSet(e.object[t])?e.object[t]:new window[t]})}),Libs.add("make",function(t){var e=this;return _.each(t,function(t,n){e.object[n]=t}),this}),Libs.add("supply",function(t){for(var e=this,n=_.getObjectKeys(t),i=n.length;i--;)_.isFunction(t[n[i]])&&e.cook(n[i],t[n[i]]);return this}),Libs.add("cook",function(t,e){return this.object.__proto__[t]=e,this}),window.Lib=new Libs,Modules.add("blend",function(t,e){var n=new Modules;return n.lib=new Libs,n.root=t,n.scope={},n.lib.blend(t,e),n}),Modules.add("recipe",function(t,e){return _.isSet(this.root)&&_.isSet(e)&&(this.temp=t,this.modules[t]={creator:e,instance:null},this._taste(t)),this}),Modules.add("_watch",function(t){var e=this;Object.observe(e.scope,function(n){_.each(n,function(n){_.isSet(e.onchange[n.name])&&_.getObjectSize(n.object)>0&&t===n.name&&e.onchange[n.name]({name:n.name,old:n.oldValue,type:n.type,object:n.object[n.name]})})})}),Modules.add("_add",function(t){_.isObject(this.scope[t])||(this.scope[t]={})}),Modules.add("_trigger",function(t){return _.isSet(this.modules[t])?this.modules[t].creator(_,_$,this.scope):{}}),Modules.add("service",function(t,e){this.lib.cook(t,e)}),Modules.add("services",function(t){this.lib.supply(t)}),Modules.add("value",function(){}),Modules.add("setScope",function(t,e){return _.isSet(this.scope[t])&&(this.scope[t]=e),this}),Modules.add("getScope",function(t){return _.isSet(this.scope[t])?this.scope[t]:{}}),Modules.add("when",function(t,e,n){var i=this;return[{change:function(){i.onchange[e]=n},drop:function(){i.ondrop[e]=n}}[t]()]}),Modules.add("_serve",function(t,e){var n=this,i=null,r=n.scope[t],o=_$('[sp-controller="'+t+'"]');if(o.exist&&_.getObjectSize(r)>0)if(_.isBoolean(e))Require.request("/view/"+_.dotDirectory(t),function(){i=new Template,t in i.__proto__&&i[t](r,function(t){o.html(t)})});else{var s=_$('[sp-template="'+e+'"]'),a=s.exist?s.html():o.html();_.isSet(a)&&(i=new Template,i.parse(a,r,function(t){o.html(t)}))}return this}),Modules.add("_taste",function(t){var e=this,n=_$("body");return _.isSet(e.modules[t])&&_.isSet(e.root)&&(e._add(t),e.modules[t].instance=e._trigger(t),e.modules[t].instance.name=t,e.modules[t].instance.parent=e.root,e.modules[t].instance.setScope=function(n){return _.isObject(n)?(e.setScope(t,n),this):void 0},e.modules[t].instance.getScope=function(){return e.getScope(t)},e.modules[t].instance.when=function(n,i){e.when(n,t,i)},e.modules[t].instance.serve=function(n){return e._serve(t,n||!0),this},e.modules[t].instance.listen=function(e,i){return n.listen(e,'[sp-listen="'+t+'"]',i),this},e._watch(t),_.isSet(e.modules[t].instance.init)&&e.modules[t].instance.init(this.lib.get(e.root))),this}),Modules.add("drop",function(t){return _.isSet(this.modules[t])&&this.modules[t].instance&&(this.modules[t].instance.destroy&&this.modules[t].instance.destroy(this.lib.get(this.root)),this.ondrop[t]&&this.ondrop[t](t),this.modules[t]=null),this}),Modules.add("dropAll",function(){var t=this;return _.each(this.modules,function(e,n){t.drop(n)}),this}),window.Module=new Modules,Ajax.add("on",function(t,e){var n=this;return[{before:function(){n.before=e},complete:function(){n.complete=e},error:function(){n.error=e},abort:function(){n.abort=e},state:function(){n.state=e},timeout:function(){n.time_out=e},progress:function(){n.progress=e}}[t]()]}),Ajax.add("request",function(t,e){if(!_.isObject(t))throw WARNING_SYRUP.ERROR.NOOBJECT;var n=this,i=n.xhr,r=!0,o=t.method||"GET",s=t.timeout||4e3,a=t.processor||setting.ajax_processor||"",u=t.token||!1,c=t.contentType||"application/x-www-form-urlencoded;charset=utf-8",d=t.data?t.data:null,l=t.contentHeader||[{header:"Content-Type",value:c}];if(!_.isSet(t.url))throw WARNING_SYRUP.ERROR.NOURL;return!_.isFormData(d)&&_.isSet(d)&&"auto"!==l&&(d=_.parseJsonUrl(d)),"GET"===o&&_.isSet(d)&&(a+="?"+d),a=t.url+(a||""),i.open(o,a,r),i.timeout=s,_.isFormData(d)||"auto"===l||_.each(l,function(t){n.requestHeader(t.header,t.value)}),_.isSet(u)&&n.requestHeader("X-CSRFToken",_.getCookie(_.isBoolean(u)?"csrftoken":u)),_.isSet(t.upload)&&_.isBoolean(t.upload)&&(n.upload=n.xhr.upload,i=n.upload),i.addEventListener("load",function(t){if(this.status>=200&&this.status<400){var n=this.response||this.responseText;_.isJson(n)&&(n=JSON.parse(n)),_.callbackAudit(e,n,t)}}),i.addEventListener("progress",function(t){n.progress&&n.progress(t)},!1),i.addEventListener("readystatechange",function(t){this.readyState&&n.state&&n.state(this.readyState,t)}),i.addEventListener("abort",function(t){n.abort&&n.abort(t)}),i.addEventListener("timeout",function(t){n.time_out&&n.time_out(t)}),i.addEventListener("loadend",function(t){n.complete&&n.complete(t)}),i.addEventListener("loadstart",function(t){n.before&&n.before(t)}),i.addEventListener("error",function(t){n.error&&n.error(t)}),n.xhr_list.push(n.xhr),i.send("GET"!==o?d:null),n.xhr}),Ajax.add("requestHeader",function(t,e){return this.xhr.setRequestHeader(t,e),this}),Ajax.add("kill",function(){for(var t=this.xhr_list.length;t--;)this.xhr_list[t]&&this.xhr_list[t].abort();return this.xhr_list.length=0,this}),Repository.add("set",function(t,e,n){localStorage.setItem(t,JSON.stringify(e)),_.callbackAudit(n,e,this)}),Repository.add("get",function(t){return _.isJson(localStorage.getItem(t))?JSON.parse(localStorage.getItem(t)):null}),Repository.add("append",function(t,e,n){var i=this.get(t),r=_.extend(_.isSet(i)?i:{},e);return this.set(t,r,!1),_.callbackAudit(n,r),this}),Repository.add("destroy",function(){localStorage.clear()}),Repository.add("clear",function(t){return localStorage.removeItem(t),this}),Repository.add("count",function(){return localStorage.length}),Workers.add("on",function(t,e){var n=this;return[{message:function(){n.onsuccess=e}}[t]()]}),Workers.add("set",function(t,e){var n=this;return n.Worker=new Worker(setting.system_path+t+".min.js"),n.Worker.addEventListener("message",function(t){_.callbackAudit(n.onsuccess,t)},!1),_.callbackAudit(e,n.Worker),this}),Workers.add("get",function(){return this.Worker}),Workers.add("send",function(t){return this.Worker.postMessage(t?t:""),this}),Workers.add("kill",function(t){return _.isSet(this.Worker)&&(this.Worker.terminate(),this.Worker=null,_.callbackAudit(t)),this}),Template.add("lookup",function(t,e){var n={url:setting.app_path+"/templates/"+t,dataType:"text/plain",processor:".html"};return this.Ajax.request(n,function(t){_.callbackAudit(e,t)}),this}),Template.add("get",function(t,e){var n=this,i=n.Repository,r=i.get("templates"),o={};return n.template=t,_.isSet(r)?_.isSet(r[t])?_.callbackAudit(e,r[t]):n.lookup(t,function(n){o[t]=n,i.append("templates",o),_.callbackAudit(e,n)}):(i.set("templates",{}),this.get(t,e)),this}),Template.add("clear",function(){return this.Repository.clear("templates"),this}),Template.add("remove",function(){if(this.template){var t=this.Repository.get("templates");t&&delete t[this.template],this.Repository.set("templates",t),
this.template=null}return this}),Template.add("parse",function(t,e,n){var i=this;return i.Workers.set("/workers/setting/Parser",function(n){i.Workers.send({template:t,fields:e})}).on("message",function(t){_.callbackAudit(n,t.data)}),this});var GoogleMap,WARNING_GOOGLE_MAP={ERROR:{NOLOCATION:"No coordinates seted.",NOMAP:"No map seted.",NOCONTAINER:"No map container seted.",NOCONFIG:"The configuration object is necessary.",NOROUTES:"No mapped routes",NODISTANCE:"You need the source and target to measure the distance."}};GoogleMap=function(){var t=this.__proto__||GoogleMap.prototype,e=this||t;e.markersCollection=[],e.coordsCollection=[],e.routesCollection=[],e.infoLabels=[],e.distanceCollection={},e.container=null,e.mapa=null,e.position=null,e.mapType="roadmap",e.travelType="DRIVING",e.marker=null,e.ruta=null,e.mapObject=google.maps,e.infoWindow=null,e.animationType=e.mapObject.Animation.DROP,e.geocoder=new e.mapObject.Geocoder,e.distance=new e.mapObject.DistanceMatrixService,t.setMapType=function(t){var e=this;e.mapType=[{road:e.mapObject.MapTypeId.ROADMAP,satellite:e.mapObject.MapTypeId.SATELLITE,hybrid:e.mapObject.MapTypeId.HYBRID,terrain:e.mapObject.MapTypeId.TERRAIN}[t]].toString()||e.mapType},t.setMapContainer=function(t){_.is$(t)&&(t=t.object()),this.container=t},t.getMapPosition=function(){return this.position},t.parseLatLngEvent=function(t){return t.latLng?{latitude:t.latLng.lat(),longitude:t.latLng.lng()}:null},t.getMap=function(){return this.mapa},t.getCoords=function(){return this.coordsCollection},t.cleanCoords=function(){this.coordsCollection=[]},t.getCoordsCenterPoint=function(){var t=this.coordsCollection,e=0,n=0,i=0,r=0,o=0;return _.each(t,function(t){r=t.lat()*Math.PI/180,o=t.lng()*Math.PI/180,e+=Math.cos(r)*Math.cos(o),n+=Math.cos(r)*Math.sin(o),i+=Math.sin(r)}),e/=t.length,n/=t.length,i/=t.length,o=Math.atan2(n,e),r=Math.atan2(i,Math.sqrt(e*e+n*n)),{latitude:180*r/Math.PI,longitude:180*o/Math.PI}},t.appendCoord=function(t){this.coordsCollection.push(t)},t.on=function(t,n,i){_.isString(t)&&(i=n,n=t,_.isSet(this.mapa)&&(t=this.mapa)),_.isFunction(i)||_.error(WARNING_SYRUP.ERROR.NOFUNCTION),_.isObject(t)||_.error(WARNING_GOOGLE_MAP.ERROR.NOMAP),e.mapObject.event.addListener(t,n,i)},t.makePosition=function(t){return _.isObject(t)||_.error(WARNING_GOOGLE_MAP.ERROR.NOCONFIG),new this.mapObject.LatLng(t.latitude,t.longitude)},t.setMapPosition=function(t){_.isObject(t)||_.error(WARNING_GOOGLE_MAP.ERROR.NOCONFIG),this.position=this.makePosition(t)},t.changeMapPosition=function(t){var e=this;_.isObject(t)||_.error(WARNING_GOOGLE_MAP.ERROR.NOCONFIG),e.mapa||_.error(WARNING_GOOGLE_MAP.ERROR.NOMAP),e.setMapPosition(t),e.mapa.setCenter(e.position)},t.createMap=function(t,e){var n=this;n.position||_.error(WARNING_GOOGLE_MAP.ERROR.NOLOCATION),n.container||_.error(WARNING_GOOGLE_MAP.ERROR.NOCONTAINER);var i,r={zoom:10,center:n.position,mapTypeId:n.mapType};_.isFunction(t)?(i=r,e=arguments[0]):i=_.extend(t,r),n.mapa=new n.mapObject.Map(n.container,i),_.callbackAudit(e,n.mapa)},t.setMarker=function(t,e){this.mapa||_.error(WARNING_GOOGLE_MAP.ERROR.NOMAP),_.isObject(e)||(e={}),t&&_.isObject(t)?this.setMapPosition(t):this.position||_.error(WARNING_GOOGLE_MAP.ERROR.NOLOCATION);var n=_.extend({position:this.position,map:this.mapa},e);return this.marker=new this.mapObject.Marker(n),this.marker.setAnimation(this.animationType),this.markersCollection.push(this.marker),this.coordsCollection.push(this.position),this.marker},t.setMarkerAnimationType=function(t){var e=this;e.animationType=[{fall:e.mapObject.Animation.DROP,infinitejump:e.mapObject.Animation.BOUNCE}[t]].toString()||e.animationType},t.stopMarkerAnimation=function(){this.marker.setAnimation(null)},t.showAllMarkers=function(t){_.each(this.markersCollection,function(e){e.setMap(t)})},t.clearMarkers=function(){this.showAllMarkers(null)},t.deleteMarkers=function(){this.markersCollection=[]},t.getMarkers=function(){return this.markersCollection},t.setMarkerInfo=function(t,e,n){var i=this;n=_.extend({content:t},n);var r=this.createInfoLabel(t,n);return r.open(i.mapa,e),r},t.createInfoLabel=function(t,e){var n=this;return e=_.extend({content:t},e),n.infoWindow=new n.mapObject.InfoWindow(e),n.infoLabels.push(n.infoWindow),n.infoWindow},t.clearInfoLabels=function(){_.each(this.infoLabels,function(t){t.close()})},t.clearInfoLabel=function(){self.infoWindow.close()},t.geoCodeRequest=function(t,e){this.geocoder.geocode(t,e)},t.getLocationInfo=function(t,e){var n=this;_.isSet(t)&&_.isObject(t)?n.setMapPosition(t):(_.isSet(n.position)||n.error(WARNING_GOOGLE_MAP.ERROR.NOLOCATION),_.isFunction(t)&&(e=arguments[0])),this.geoCodeRequest({latLng:n.position},function(t,i){i===n.mapObject.GeocoderStatus.OK&&_.callbackAudit(e,{street:_.isSet(t[0].address_components[0])?t[0].address_components[0].long_name:null,city:_.isSet(t[0].address_components[1])?t[0].address_components[1].long_name:null,state:_.isSet(t[0].address_components[2])?t[0].address_components[2].long_name:null,country:_.isSet(t[0].address_components[3])?t[0].address_components[3].long_name:null})})},t.getLocationBySearch=function(t,e){this.geoCodeRequest({address:t},function(t,n){if(n==google.maps.GeocoderStatus.OK){var i=t[0].geometry.location;_.callbackAudit(e,{latitude:i.lat(),longitude:i.lng(),altitude:0})}})},t.drawRoute=function(t,e){var n=this;0==n.coordsCollection.length&&n.error(WARNING_GOOGLE_MAP.ERROR.NOROUTES),_.isFunction(t)&&(e=arguments[0]);var i=_.extend({path:n.coordsCollection,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2},t,!0);n.ruta=new n.mapObject.Polyline(i),n.ruta.setMap(n.mapa),n.appendRoute(n.ruta),_.callbackAudit(e,n.ruta)},t.appendRoute=function(t){this.routesCollection.push(t)},t.getRoutes=function(){return this.routesCollection},t.clearRoutes=function(){_.each(this.routesCollection,function(t){t.setMap(null)})},t.deleteRoutes=function(){this.routesCollection=[]},t.setTravelMode=function(t){var e=this;e.travelType=[{drive:e.mapObject.TravelMode.DRIVING,walk:e.mapObject.TravelMode.WALKING,bike:e.mapObject.TravelMode.BICYCLING,bus:e.mapObject.TravelMode.TRANSIT}[t]]||e.travelType},t.packDistances=function(t){var e=this,n=t.destinationAddresses,i=t.originAddresses,r=t.rows;for(var o in n){e.distanceCollection[o]={};for(var s in i)n[o]!=i[s]&&("OK"==r[o].elements[s].status?(e.distanceCollection[o][s]={},e.distanceCollection[o][s].from=n[o],e.distanceCollection[o][s].destiny=i[s],e.distanceCollection[o][s].distance=r[o].elements[s].distance.text,e.distanceCollection[o][s].time=r[o].elements[s].duration.text):e.distanceCollection[o]=!1)}return e.distanceCollection},t.getDistance=function(t,e,n){var i=this;(!t||_.isObject(t))&&i.error(WARNING_GOOGLE_MAP.ERROR.NODISTANCE),_.isFunction(e)&&(n=arguments[1]);var r=_.extend({origins:t,destinations:t,travelMode:i.travelType},e),o=!1;i.distance.getDistanceMatrix(r,function(t,e){"OK"==e&&(o=i.packDistances(t)),n&&n(o)})}};var setting={ajax_processor:"",app_path:"/Syrup/app",system_path:"/Syrup/system",env:"development"};"undefined"!=typeof exports&&(exports.setting=setting);